{% extends "base.html" %}

{% load static %}

{% block titulo %} Formulário de recuperação de Senha {% endblock titulo %}

{% block styles %}
    <link rel="stylesheet" href="{% static "css/login/login.css" %}">
{% endblock styles %}

{% block conteudo %}
    <main 
        class="d-flex flex-column justify-content-center align-items-center"
        style="height: 80vh;"
    >
        <small class="text-danger mb-2">
            Entre com sua nova senha para resetar.
        </small>
        <header
            class=
                "header-form border border-1 rounded-top-2 border-bottom-0 
                text-white p-2 fs-2 text-center"
            style="width: 30rem;"
        >
            Recuperação de senha
        </header>
        {% if validlink %}
            <form method="POST" class="p-4 border border-1" style="width: 30rem;"
            >
                {% csrf_token %}
                <div class="mt-3">
                    {{ form.new_password1.errors }}
                    <label class="form-label" for="id_new_password1">Nova Senha:</label>
                    <input type="password" name="new_password1" class="form-control" id="id_new_password1"> 
                </div>
                <div class="mt-3">
                    {{ form.new_password2.errors }}
                    <label class="form-label" for="id_new_password2">Confirmação de senha:</label>
                    <input type="password" name="new_password2" class="form-control" id="id_new_password2"> 
                </div>
                <button 
                    type="submit" 
                    class="btn btn-success m-auto d-block mt-4" 
                    style="width: 8rem;"
                >
                    Alterar
                </button>
            </form>
        {% else %}
            <div class="p-4 border border-1 text-center" style="width: 30rem;">
                <h4>Falha na redefinição de senha</h4>
                <p>O link de redefinição de senha era inválido, possivelmente porque já foi usado. Solicite uma nova redefinição de senha.</p> 
            </div>
           
        {% endif %}
    </main>
{% endblock conteudo %}